{"version":3,"sources":["../src/freezeImage.js"],"names":["freezeImage","selector","image","document","querySelector","tagName","className","canvas","createElement","ctx","getContext","parentNode","replaceChild","width","height","drawImage","attributes","forEach","name","value","setAttribute"],"mappings":";;;;;AAAA,MAAMA,cAAeC,QAAD,IAAc;AAChC,QAAMC,QAAQC,SAASC,aAAT,CAAuBH,QAAvB,CAAd;AACA,MAAIC,MAAMG,OAAN,KAAkB,KAAtB,EAA6B;AAC3B,WAAO,KAAP;AACD;AACD,QAAM,EAAEC,SAAF,KAAgBJ,KAAtB;AACA,QAAMK,SAASJ,SAASK,aAAT,CAAuB,QAAvB,CAAf;AACAD,SAAOD,SAAP,GAAmBA,SAAnB;AACA,QAAMG,MAAMF,OAAOG,UAAP,CAAkB,IAAlB,CAAZ;AACAR,QAAMS,UAAN,CAAiBC,YAAjB,CAA8BL,MAA9B,EAAsCL,KAAtC;;AAEAK,SAAOM,KAAP,GAAeX,MAAMW,KAArB;AACAN,SAAOO,MAAP,GAAgBZ,MAAMY,MAAtB;AACAL,MAAIM,SAAJ,CAAcb,KAAd,EAAqB,CAArB,EAAwB,CAAxB;AACA,MAAIA,MAAMc,UAAV,EAAsB;AACpB,KAAC,GAAGd,MAAMc,UAAV,EAAsBC,OAAtB,CAA8B,CAAC,EAAEC,IAAF,EAAQC,KAAR,EAAD,KAAqBZ,OAAOa,YAAP,CAAoBF,IAApB,EAA0BC,KAA1B,CAAnD;AACD;AACD,SAAO,IAAP;AACD,CAlBD;;kBAoBenB,W","file":"freezeImage.js","sourcesContent":["const freezeImage = (selector) => {\r\n  const image = document.querySelector(selector);\r\n  if (image.tagName !== 'IMG') {\r\n    return false;\r\n  }\r\n  const { className } = image;\r\n  const canvas = document.createElement('canvas');\r\n  canvas.className = className;\r\n  const ctx = canvas.getContext('2d');\r\n  image.parentNode.replaceChild(canvas, image);\r\n\r\n  canvas.width = image.width;\r\n  canvas.height = image.height;\r\n  ctx.drawImage(image, 0, 0);\r\n  if (image.attributes) {\r\n    [...image.attributes].forEach(({ name, value }) => canvas.setAttribute(name, value));\r\n  }\r\n  return true;\r\n};\r\n\r\nexport default freezeImage;\r\n"]}